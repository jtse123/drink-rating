{% extends 'drinkproj/base.html' %}
{% load staticfiles %}
{% load rest_framework %}
{% load thumbnail %}


{% block content %}
    {# following class drink_id is used in app.js#}
    <script class="drink_id">{{ drink.id }}</script>
    <script class="ip">{{ ip_address }}</script>

    <div class="col-xs-12 standard_font">
        <div class="drink">
            <h2>{{ drink }}</h2>
        </div>
    <div class="drink_thumb">
        {% if drink.image.url != None %}
            <img src="{{ drink.image.url }}"/>
{#            {% thumbnail drink.image "100x100" as im %}#}
{#                <img src="{{ im.url }}" width="{{ im.url_width }}" height="{{ im.url_height }}"/>#}
{#            {% endthumbnail %}#}
        {% endif %}
    </div>

{#Displays rating#}
    <div class="standard_font">
        <h3 ng-show="numOfRatings > 0">Rating: {$ avg_rating $} out of 5 stars</h3>

        <p>{$ numOfRatings $} reviews</p>
    </div>
        <form ng-submit="submit()" ng-controller="ProjectController">
            {% csrf_token %}
            comment
            <input type="text" ng-model="comment" name="comment" /><br>
            rating
            <select ng-model="rating" name="rating">
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
            </select>
            <input type="submit" id="submit" value="Submit" />
        <div ng-repeat="comment in comments_data | orderBy: '-post_date'">
            <div class="rating_instance">
                <h4 id="rating_style">{$ comment.rating $} out of 5 Stars</h4>
                <p id ="comment_style">{$ comment.comment $}</p>
            </div>
        </div>
        </form>
    </div>
{% endblock %}